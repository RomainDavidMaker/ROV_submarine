


25/02/24
test de ros avec un esp

check the serial port of the esp :
l'esp doit etre present dans avec "ls /dev/ttyUSB0"
otherwise go to parameter of the virtual box, usb add the usb device to the virtual box


if Permission denied: '/dev/ttyUSB0'  when lucnhing the py program use this to give access to the esp32 :
sudo lsof /dev/ttyUSB0

to check if no other program (ex platform io) is using the port use "lsof | grep /dev/ttyUSB0"


---STRUCTURE---

the node sensor_reader send the sensor values to the topic sensor_values
the node sensor_display display to ? the sensor values from the topic sensor_values
the topic sensor_values is a message of the type Float32MultiArray (pressure,tension,...??)
the esp32 send via the serial a string with float separeted by a , ending with /n

the node motor_light_sender send the commands from the topic motor_commands to the esp32
the esp32 read 10 foats that represent the commands for motor0 to motor7 (ranging from -1 to 1)
 and the states for light_floor and light_front (ranging from 0 to 1).
the topic motor_commands is a msg of the type Twist (3 translations + 3 rotations  of the ROV)
you can send commands via the node motor_control_keyboard 


todo : 
modify the  motor_light_sender so i can swith the light with a service??
modify the motor_light_sender so it modify the twist from the topic motor_commands to motor values -1 to 1














